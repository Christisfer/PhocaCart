function phChangeAttributeType(e){var t=(e=void 0!==e?".phj"+e:"")+".phjProductAttribute";jQuery(e+".phjCleanAttribute").remove(),jQuery(t).each(function(){var t="",a="",r="#phItemAttribute"+jQuery(this).data("attribute-id-name"),i="#phItemHiddenAttribute"+jQuery(this).data("attribute-id-name"),e="#phItemBoxAttribute"+jQuery(this).data("attribute-id-name"),u=jQuery(this).data("attribute-type"),s=jQuery(this).data("type-view"),y=jQuery(this).data("type-icon"),j=jQuery(this).data("required");if(3==u?t="phSelectBoxImage":2==u&&(t="phSelectBoxButton"),""!=t){a=i+" ."+t;var n=jQuery(r).attr("name"),l=jQuery('<input type="hidden" name="'+n+'">');l.val(jQuery(r).val()),l.insertAfter(jQuery(r)),jQuery(i).css("display","block"),jQuery(e).css({display:"visible",position:"absolute",clip:"rect(0,0,0,0)"}),jQuery(e).addClass("phj"+s+" phjCleanAttribute"),jQuery(r+" option").each(function(){if(""!=jQuery(this).val()){if(3==u)var e=jQuery('<div class="'+t+" "+y+'" data-value="'+jQuery(this).val()+'" title="'+jQuery(this).text()+'"><img src="'+jQuery(this).data("image")+'" alt="'+jQuery(this).text()+'" /></div>');else if(2==u)e=jQuery('<div class="'+t+" "+y+'" style="background-color:'+jQuery(this).data("color")+'" data-value="'+jQuery(this).val()+'" title="'+jQuery(this).text()+'">&nbsp;</div>');jQuery(this).is(":selected")&&e.addClass("on"),jQuery(i).append(e)}}),jQuery(a).on("click",function(e){if(e.preventDefault(),jQuery(this).hasClass("on")){if(1==j)return e.preventDefault(),!1;jQuery(this).removeClass("on"),jQuery('input[name="'+n+'"]').val(""),jQuery(r).val("").change()}else jQuery(a).removeClass("on"),jQuery(this).addClass("on"),jQuery('input[name="'+n+'"]').val(jQuery(this).data("value")),jQuery(r).val(jQuery(this).data("value")).change()})}})}jQuery(document).ready(function(){phChangeAttributeType()});